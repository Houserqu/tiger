;/*!store/Page.ts*/
amis.define("c3d9fbb",(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageStore=void 0;var i=e("2426036");t.PageStore=i.types.model("Page",{id:i.types.identifier,icon:"",path:"",label:"",schema:i.types.frozen({})}).views((function(e){return{}})).actions((function(e){return{updateSchema:function(t){e.schema=t},updateBase:function(t){var a=t.label,n=t.path,i=t.icon;e.label=a,e.path=n,e.icon=i}}}))}));
;/*!store/index.ts*/
amis.define("8586189",(function(e,t,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainStore=void 0;var i=e("849c8c1"),o=e("2426036"),r=e("c3d9fbb"),c=i.__importDefault(e("a5149e9")),d=e("167c905");t.MainStore=o.types.model("MainStore",{pages:o.types.optional(o.types.array(r.PageStore),[{id:"".concat(1),path:"/hello-world",label:"Hello world",icon:"fa fa-file",schema:{type:"page",title:"Hello world",body:"初始页面"}}]),theme:"cxd",asideFixed:!0,asideFolded:!1,offScreen:!1,addPageIsOpen:!1,editPage:o.types.maybeNull(r.PageStore),preview:!1,isMobile:!1,schema:o.types.frozen()}).views((function(e){return{get fetcher(){return(0,o.getEnv)(e).fetcher},get notify(){return(0,o.getEnv)(e).notify},get alert(){return(0,o.getEnv)(e).alert},get copy(){return(0,o.getEnv)(e).copy}}})).actions((function(e){return{toggleAsideFolded:function(){e.asideFolded=!e.asideFolded},toggleAsideFixed:function(){e.asideFixed=!e.asideFixed},toggleOffScreen:function(){e.offScreen=!e.offScreen},setAddPageIsOpen:function(t){e.addPageIsOpen=t},setEditPage:function(t){e.editPage=t},addPage:function(t){e.pages.push(r.PageStore.create(t))},removePageAt:function(t){e.pages.splice(t,1)},updatePageSchemaAt:function(t){var a=e.pages.findIndex((function(e){return e.id==t}));e.pages[a].updateSchema(e.schema)},updatePageSchemaData:function(t,a){var n=e.pages.findIndex((function(e){return e.id==t}));e.pages[n].updateBase({icon:a.icon,path:a.path,label:a.label})},updateSchema:function(t){e.schema=t},setPreview:function(t){e.preview=t},setIsMobile:function(t){e.isMobile=t},initPages:function(t){e.pages=i.__spreadArray(i.__spreadArray([],e.pages,!0),t,!0)},afterCreate:function(){c.default.get("/api/page/list").then((function(t){var a=t.data;if(0===a.errno){var n=a.data.items.map((function(e){return{id:"".concat(e.id),label:e.name,path:e.path,icon:e.icon,schema:e.config?JSON.parse(e.config):{type:"page"}}}));e.initPages(n)}else(0,d.alert)(a.msg,"获取页面数据失败")})).catch((function(e){(0,d.alert)(e.message,"网络异常")}))}}}))}));
;/*!route/index.tsx*/
amis.define("11207ed",(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("849c8c1"),l=a.__importDefault(e("cc4bbf0")),o=e("167c905"),u=e("f7998ad"),c=e("fc22630"),f=l.default.lazy((function(){return Promise.resolve().then((function(){return new Promise((function(t){e(["816c31c"],(function(e){t(a.__importStar(e))}))}))}))})),i=l.default.lazy((function(){return Promise.resolve().then((function(){return new Promise((function(t){e(["218f7cb"],(function(e){t(a.__importStar(e))}))}))}))}));t.default=(0,c.observer)((function(e){e.store;return l.default.createElement(u.HashRouter,null,l.default.createElement("div",{className:"routes-wrapper"},l.default.createElement(o.ToastComponent,{key:"toast",position:"top-right"}),l.default.createElement(o.AlertComponent,{key:"alert"}),l.default.createElement(l.default.Suspense,{fallback:l.default.createElement(o.Spinner,{overlay:!0,className:"m-t-lg",size:"lg"})},l.default.createElement(u.Switch,null,l.default.createElement(u.Redirect,{to:"/hello-world",from:"/",exact:!0}),l.default.createElement(u.Route,{path:"/edit/:id",component:i}),l.default.createElement(u.Route,{component:f})))))}))}));
;/*!App.tsx*/
amis.define("4c5556c",(function(t,e,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("849c8c1"),n=o.__importDefault(t("cc4bbf0")),f=t("fc22630"),i=t("167c905"),c=o.__importDefault(t("a5149e9")),u=t("8586189"),l=o.__importDefault(t("11207ed")),s=o.__importDefault(t("6f82c2d"));e.default=function(){var t=window.store=u.MainStore.create({},{fetcher:function(t){var e=t.url,r=t.method,a=t.data,o=t.config;return(o=o||{}).headers=o.headers||{},o.withCredentials=!0,"post"!==r&&"put"!==r&&"patch"!==r?(a&&(o.params=a),c.default[r](e,o)):(a&&a instanceof FormData||!a||"string"==typeof a||a instanceof Blob||a instanceof ArrayBuffer||(a=JSON.stringify(a),o.headers["Content-Type"]="application/json"),c.default[r](e,a,o))},isCancel:function(t){return c.default.isCancel(t)},notify:function(t,e){i.toast[t]?i.toast[t](e,"error"===t?"系统错误":"系统消息"):console.warn("[Notify]",t,e),console.log("[notify]",t,e)},alert:i.alert,confirm:i.confirm,copy:function(t,e){void 0===e&&(e={});var r=(0,s.default)(t,e);return r&&(!e||!0!==e.shutup)&&i.toast.info("内容已拷贝到剪切板"),r}});return n.default.createElement(f.Provider,{store:t},n.default.createElement(l.default,{store:t}))}}));